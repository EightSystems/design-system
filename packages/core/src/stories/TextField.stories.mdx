import { Meta, Story, Canvas, ArgsTable } from "@storybook/addon-docs";
import { TextField } from "../components/forms/TextField";
import { action } from "@storybook/addon-actions";

<Meta title="Forms/TextField" component={TextField} />

# TextField

The `TextField` component is a complete form control that allow for text capture. It's the junction of web native
elements `<label>` and `<input>`.

On the web, it supports native props like `required`, `disabled` and `type` (excepts for types that change the text
field behavior to a non-text input, more details on Props list).

This components is commonly used on forms and dialog boxes.

## Import

```jsx
import { TextField } from "@8sistemas/design-system";
```

## TextField Variants

The `TextField` requires two obligatory props, `name` and `label`:

<Canvas>
    <Story
        name="Regular TextField"
        args={{
            name: "inputName",
            label: "Input Label",
            placeholder: "Regular Value",
            onFocus: action("onFocus"),
            onChange: action("onChange"),
            onBlur: action("onBlur"),
        }}
    >
        {args => <TextField {...args} />}
    </Story>
</Canvas>

### Disabled

<Canvas>
    <Story
        name="Disabled TextField"
        args={{
            name: "inputName",
            label: "Input Label Disabled",
            disabled: true,
            placeholder: "Disabled value",
            onFocus: action("onFocus"),
            onChange: action("onChange"),
            onBlur: action("onBlur"),
        }}
    >
        {args => <TextField {...args} />}
    </Story>
</Canvas>

## Validation States

Validation states can be achieved by using the props `validationError` to indicate validation error, `validationSuccess`
to indicate validation success, and `validationMessage` to insert a helper message during the validation.

### Validation error

<Canvas>
    <Story
        name="Error TextField"
        args={{
            name: "inputName",
            label: "Input Label",
            value: "Wrong Input",
            validationError: true,
            validationMessage: "There seems to be something wrong with your input",
            onFocus: action("onFocus"),
            onChange: action("onChange"),
            onBlur: action("onBlur"),
        }}
    >
        {args => <TextField {...args} />}
    </Story>
</Canvas>

### Success validation

<Canvas>
    <Story
        name="Success TextField"
        args={{
            name: "inputName",
            label: "Input Label",
            value: "Right Input",
            icon: "success",
            validationSuccess: true,
            onFocus: action("onFocus"),
            onChange: action("onChange"),
            onBlur: action("onBlur"),
        }}
    >
        {args => <TextField {...args} />}
    </Story>
</Canvas>

It's also possible to create a `TextField` with a help icon that will show a tooltip and provide context to the type of
infomation that will be required by the input, using the props `icon` to show the icon, and `tooltipContent`,
`tooltipPlacement` and `tooltipOffset` to configure the content and positioning of the tooltip:

<Canvas>
    <Story
        name="Information TextField"
        args={{
            name: "inputName",
            label: "Input Label",
            placeholder: "Placeholder Information",
            icon: "info",
            tooltipContent:
                "Fill this field with your information, and this is a long text line so we can see it break, and break more, and even more, and even even more.",
            tooltipPlacement: "bottom-end",
            tooltipOffset: 0,
            onFocus: action("onFocus"),
            onChange: action("onChange"),
            onBlur: action("onBlur"),
        }}
    >
        {args => <TextField {...args} />}
    </Story>
</Canvas>

## Masks

Under the hood, `TextField` uses react-imask to configure masks on inputs. To see more information about the props
available for mask controls on with IMask, use IMask's [official documentation](https://imask.js.org/) as reference.

### Example:

#### Date mask:

<Canvas>
    <Story name="Date Masked TextField">
        <TextField
            name="date"
            placeholder="aaaa-mm-dd"
            label="Date"
            masked="true"
            maskType={"datetime"}
            maskOptions={{
                format: "YYYY-MM-DD",
            }}
            onFocus={action("onFocus")}
            onChange={action("onChange")}
            onBlur={action("onBlur")}
        />
    </Story>
</Canvas>

## Props:

<ArgsTable of={TextField} />
